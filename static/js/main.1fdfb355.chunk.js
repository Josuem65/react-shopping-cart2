(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{21:function(e,t,a){e.exports=a(43)},37:function(e,t,a){e.exports=a.p+"static/media/logo.8dad8028.svg"},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),l=a(17),r=a(4),o=a(7),s=a(45);const i=Object(o.b)({name:"cart",initialState:{cartToggled:0},reducers:{toggle:(e,t)=>{e.cartToggled=t.payload}}}),{toggle:d}=i.actions,u=e=>e.cart.cartToggled;var m=i.reducer;function p(){const e=Object(r.b)(),t=Object(r.c)(C),a=Object(r.c)(O),l=Object(r.c)(u);function o(t){return n.a.createElement("div",{className:l?"mainProducts cartIsToggled":"mainProducts"},t.map((t,a)=>{const c=t.price,l=t.installments,r=t.currencyFormat;return n.a.createElement("div",{className:"eachProduct"},function(e){if(e)return n.a.createElement("span",{className:"freeShipping"},"Free shipping")}(t.isFreeShipping),n.a.createElement("img",{src:"https://josuem65.github.io/react-shopping-cart2".concat(t.img.normal),className:"productImg"}),n.a.createElement("span",{className:"productTitle"},t.title),n.a.createElement("span",{className:"productPrice"},r,c),function(e,t,a){if(t){let c=e/t;return n.a.createElement("span",{className:"productInstallments"},"or ",t," x ",a,c.toFixed(2))}}(c,l,r),n.a.createElement("button",{className:"addToCartBtn",onClick:()=>e(h(t))},"Add to cart"))}))}return Object(c.useEffect)(()=>{e(N())},[]),a.length>0?o(a):o(t)}const g=Object(o.b)({name:"products",initialState:{products:[],filtered:[],cart:[],subtotal:[]},reducers:{display:(e,t)=>{e.products=t.payload},addToFiltered:(e,t)=>{console.log(t.payload);let a=[],c=[];for(let n=0;n<e.products.length;n++)c.push(0);if(t.payload.length>0)for(let n=0;n<t.payload.length;n++)for(let l=0;l<e.products.length;l++){if(1===c[l])continue;let r=e.products[l].availableSizes;for(let o=0;o<r.length;o++){if(t.payload[n]==r[o]){a.push(e.products[l]),c[l]=1,l==e.products.length-1&&o==r.length-1&&(e.filtered=a);break}l==e.products.length-1&&o==r.length-1&&(e.filtered=a)}}else e.filtered=t.payload},addToCart:(e,t)=>{const a=t.payload,c=e.cart.findIndex(e=>e.id===a.id);c>-1?(e.cart[c].quantity+=1,e.subtotal[c]+=a.price):(e.cart.push({...a,quantity:1}),e.subtotal.push(a.price))},decreaseQuantity:(e,t)=>{const a=e.cart.findIndex(e=>e.id===t.payload.id);t.payload.quantity>1&&(e.cart[a].quantity-=1,e.subtotal[a]-=t.payload.price)},increaseQuantity:(e,t)=>{const a=e.cart.findIndex(e=>e.id===t.payload.id);e.cart[a].quantity+=1,e.subtotal[a]+=t.payload.price},deleteFromCart:(e,t)=>{console.log(t.payload);const a=e.cart.filter(e=>e.id!==t.payload.id),c=e.cart.findIndex(e=>e.id===t.payload.id);var n;c>-1&&e.subtotal.splice(c,1),console.log(e.subtotal),e.cart=a,n=e.cart,console.log(JSON.parse(JSON.stringify(n)))}}}),{display:b,addToFiltered:f,addToCart:h,decreaseQuantity:E,increaseQuantity:y,deleteFromCart:v}=g.actions,N=()=>e=>{s.a.get("https://josuem65.github.io/json-react-shopping-cart/db.json").then(t=>e(b(t.data.products)))},C=e=>e.products.products,j=e=>e.products.cart,O=e=>e.products.filtered,S=e=>e.products.subtotal;var F=g.reducer;const x=Object(o.a)({reducer:{products:F,cart:m}});a(37),a(38),a(39),a(40),a(41);var k=a(20);function T(){const e=Object(r.b)(),t=Object(r.c)(j),a=Object(r.c)(S),[l,o]=Object(c.useState)(0);console.log(t),Object(c.useEffect)(()=>{e(d(l))});return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,{style:l?{backgroundColor:"rgb(27, 26, 32)",color:"white",padding:".2em",fontSize:"3em",position:"fixed",right:"30%",top:"0"}:{backgroundColor:"rgb(27, 26, 32)",color:"white",padding:".2em",fontSize:"3em",position:"fixed",right:"0",top:"0"},onClick:()=>{o(l?0:1)}}),n.a.createElement("div",{className:l?"mainCart cartToggled":"mainCart"},n.a.createElement("h1",{className:"cartHeader"},"Cart"),n.a.createElement("div",{className:"cartAmountDiv"},n.a.createElement("li",{className:"cartAmount"},t.reduce((e,t)=>e+t.quantity,0)),n.a.createElement("p",null,"Items")),n.a.createElement("div",{className:"allCartItems"},t.map(t=>n.a.createElement("div",{className:"itemCart"},n.a.createElement("img",{className:"imgCart",src:"https://josuem65.github.io/react-shopping-cart2".concat(t.img.thumb)}),n.a.createElement("div",{className:"middleDivCart"},n.a.createElement("span",{className:"title"},t.title),n.a.createElement("span",{className:"size"},t.availableSizes),n.a.createElement("span",{className:"description"},t.description),n.a.createElement("span",{className:"quantity"},"Quantity: ",t.quantity)),n.a.createElement("div",{className:"rightDivCart"},n.a.createElement("button",{className:"deleteItem",onClick:()=>e(v(t))},"x"),n.a.createElement("span",{className:"itemSubtotal"},t.currencyFormat,t.price.toFixed(2)),n.a.createElement("div",{className:"decrease_increaseBtns"},n.a.createElement("button",{className:"decreaseBtn",onClick:()=>e(E(t))},"-"),n.a.createElement("button",{className:"increaseBtn",onClick:()=>e(y(t))},"+")))))),n.a.createElement("div",null,n.a.createElement("div",{className:"subtotalDiv"},n.a.createElement("li",{className:"subtotalHeading"},"Subtotal"),n.a.createElement("h2",{className:"cartSubtotal"},a.length>1?"$"+a.reduce((e,t)=>e+t).toFixed(2):1==a.length?"$"+a[0].toFixed(2):null)))))}function I(){const e=Object(r.b)(),t=["XS","S","M","L","XL","XXL"];let a=[];for(let c=0;c<t.length;c++)a.push({key:c,value:t[c],toggled:0});const[l,o]=Object(c.useState)(a);const s=l.filter(e=>1===e.toggled).map(e=>e.value);return Object(c.useEffect)(()=>{e(f(s)),console.log(s)},l),n.a.createElement("div",null,n.a.createElement("h3",null,"Sizes:"),n.a.createElement("div",null,t.map((e,t)=>{let a=l.find(e=>e.key==t);return n.a.createElement("button",{className:a.toggled?"sizeBtn toggled":"sizeBtn",onClick:()=>function(e,t){const a=l.find(t=>t.value==e);if(a.toggled){if(a.toggled){const t=l.filter(t=>t.value!==e),c={...a,toggled:0};o([...t,c])}}else{const t=l.filter(t=>t.value!==e),c={...a,toggled:1};o([...t,c])}}(e)},e)})))}var q=function(){return Object(r.c)(u),n.a.createElement("div",{className:"App"},n.a.createElement(I,null),n.a.createElement(p,null),n.a.createElement(T,null))};var z=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then(t=>{let{getCLS:a,getFID:c,getFCP:n,getLCP:l,getTTFB:r}=t;a(e),c(e),n(e),l(e),r(e)})};a(42);const B=document.getElementById("root");Object(l.createRoot)(B).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(r.a,{store:x},n.a.createElement(q,null)))),z()}},[[21,1,2]]]);
//# sourceMappingURL=main.1fdfb355.chunk.js.map